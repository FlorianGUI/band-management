<div class="field">
  <label class="label">Label</label>
  <div class="control">
    <input class="input" form="score-form" type="text" name="score_name" placeholder="1st voice"
           value="{{ score.name  | default('', true)}}" />
    <p class="help">Your score name</p>
  </div>
</div>

<div class="field">
  <label class="label">Music</label>

  <div class="dropdown" id="music-dropdown" hx-on:click="this.classList.toggle('is-active')">
    <div class="dropdown-trigger">
      <div class="control has-icons-left">
        <input type="text" form="search-music" class="input" id="music-search" placeholder="Search a music..."
               name="search" hx-post="/dropdown-musics"
               value="{{score.music and score.music.title or '' | default('', true)  }}"
               hx-on:click="document.getElementById('music-dropdown').classList.toggle('is-active')"
               hx-on:focus="document.getElementById('music-dropdown').classList.add('is-active')"
               hx-trigger="keyup changed delay:300ms, load" hx-target="#music-dropdwon" />
        <span class="icon is-medium is-left">
          <i class="fas fa-music"></i>
        </span>
      </div>
    </div>
    <div class="dropdown-menu">
      <div class="dropdown-content" id="music-dropdwon"></div>
    </div>
    <input type="hidden" name="score_music" form="score-form" id="selected-music-uuid"
           value="{{score.music_uuid | default('', true)  }}" />
    <p class="help">This is the music linked to the current score</p>
  </div>

  <div class="field">
    <label class="label">Score writer</label>
    <div class="control">
      <input class="input" form="score-form" type="text" name="source_writer_credits" placeholder="Score writer"
             value="{{ score.source_writer_credits  | default('', true) }}" />
      <p class="help">The person who write this score</p>
    </div>
  </div>

  <div class="field">
    <label class="label">Metatdata</label>
    <textarea class="textarea" disabled="1">
      {{score.storage_file_metadata}}
    </textarea>
  </div>

  {% if score.storage_file_metadata %}
    <object type="{{score.storage_file_metadata.get('mime_type', 'appdlication/pdf')}}" data="/score/{{score.uuid}}/media"
            width="100%" height="600">
      <p>
        Viewer not available on this browser for given file type
        {{score.storage_file_metadata.get('mime_type', 'appdlication/pdf')}}
        <a href="/score/{{score.uuid}}/media" target="_blank">download</a>.
      </p>
    </object>
  {% endif %}
</div>